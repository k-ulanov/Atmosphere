<!DOCTYPE html>
<html>
<head>
	<title>Atmosptere</title>
	<meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="MyFontsWebfontsKit.css">
	<style type="text/css">
		body {
			margin: 0;
			padding: 0;
			overflow-x: hidden;
			background-color: #000;

			font-size: 12px;
			color: #fff;
			
			font-family: Geometria-Light,sans-serif;
		}
		.space {
			width: calc(100% - 40px);
			left: 40px;
			height: 3844590px;
			position: relative;
			overflow: hidden;
		}

		.sky_gradient {
			background: linear-gradient(to top, #8cb4da 0%,#5788c4 28%,#2c5f98 50%,#22112e 73%,#000000 100%);
			width: 100%;
			height: 250px;
			position: absolute;
			bottom: 0;
		}

		.point {
			position: absolute;
			width: 1px;
			height: 1px;
			bottom: 110px;
			background-color: #fff;
		}

		.line {
			position: absolute;
			width: 100%;
			height: 1px;
			bottom: 110px;
			background-color: rgba(255,255,255,0.1);
		}

		.title {
			position: absolute;
			height: 20px;
			left: 10px;
		}

		.left-1 {
			left: 5px;
		}

		.left-2 {
			left: 60px;
		}

		/*.badge {
			position: absolute;
			left: calc(100% - 200px);
			height: 20px;
		}*/

		.badge {
			position: absolute;
			height: 1px;
			right: -10px;
			width: 250px;
			max-width: 50%;
		}

		.all-width
		{
			width: calc(100% + 10px); 
			max-width: calc(100% + 10px);
		}

		.badge_title {
			position: absolute;
			top: 4px;
			right: 0px;
			width: 250px;
		}

		.left {
			left: 10px;
		}

		.badge_descriptor {
			position: absolute;
			top: 24px;
		}

		.height {
			width: 80px;
		}

		.line {
			background-color: rgba(255,255,255,0.2);
		}

		.dot {
			position: absolute;
			width: 1px;
			height: 1px;
			left: -10px;
			background-color: #fff;
		}

		@keyframes move_p {
			from {
				left: 0;
			}

			to {
				left: 100%;
			}
		}

		a {
			color: #fff;
			text-decoration: none;
			border-bottom: 1px solid rgba(255,255,255,0.2);
		}

		a:hover {
			border-bottom-color: #fff;
		}

		a:visited {
			color: #fff; /* #ebd4ff;*/
			border-color: #fff; /*#ebd4ff;*/
		}


		.title_box {
			position: absolute;
			bottom: 1350px;
			width: 100%;
		}

		table, tr, td {
			border: none;
		}

		h1 {
			letter-spacing: 0.3em;
			font-size: 100px;
		}
		.title_role {
			position: fixed;
			left: 100px;
			bottom: 20%;
			opacity: 0;
		}

		.title_role_role {
			font-size: 12px;
			margin-bottom: 7px;
		}

		.title_role_name {
			font-size: 20px;
			letter-spacing: 3px;
			margin: 0;
			text-transform: uppercase;

			font-family: 'Gill Sans Pro Cyrillic Light';
			font-family: Geometria-Light;

		}

		.title_link {
			font-size: 12px;

		}

		.content {
			position: relative;
		}

		.abso-100 {
			width: 100%;
			position: absolute;
			}

		.temp_gradient {
			background: linear-gradient(to top, 
				#753e27 0%,
				#00022e 5.9%,
				#221854 25%,
				#000226 43%,
				#ca3b21 100%);
			height: 2000px;
			bottom: 0;
		}

		.temo-temp-grad {
			background: linear-gradient(to top, 
				#ca3b21 0%,#000000 100%);
			height: 1500000px;
			bottom: 2000px;

		}

		.infoscroll {
			width: 40px; 
			left: 0px; 
			bottom: 0px; 
			height: 100vh;
			position: fixed;
		}


		.info_slider {
			position: fixed;
			width: 38px;
			left: 0px;
			border: 1px solid red;

		}

		.info_line {
			position: fixed;
			width: 38px;
			left: 1px;
			height: 1px;
			background-color: green;
		}
	</style>
</head>
<body onload="readurl()">
<div class="content">
	<div class="space">
		<div class="sky_gradient"></div>
		<div class="abso-100 temp_gradient"></div>
		<div class="abso-100 temo-temp-grad"></div>

		<!--div style="position: absolute; width: 100%; bottom: 0; height: 230px; overflow: hidden;">
			<div style="width: calc(127562px + 230px*2); 
						height: calc(127136px + 230px*2);
						position: absolute; 
						border: 1px solid rgba(90,255,255,0.2); 
						left: calc(50% - 127562px/2 - 230px); 
						top: 1px;
						border-radius: 50%">
					</div>
		</div-->
	
		<img src="img/silver_clouds.png" style="position: absolute; width: calc(1072px/2); bottom: 760px; left: calc(50% - 1072px/4) ">

		<img src="img/aurora_top.png" style="position: absolute; height: 457px; bottom: 873px; left: calc(50% - 260px) ">
		<img src="img/aurora_mid.png" style="position: absolute; height: 580px; bottom: 759px; left: calc(50% - 435px) ">
		<img src="img/aurora_bot.png" style="position: absolute; height: 303px; bottom: 839px; left: calc(50% - 434px) ">

		<div class="badge line all-width" style="bottom: 200px;">
			<div class="badge_title height">20 км</div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Тропопауза">Тропопауза</a>
			</div>
			<div class="badge_title left">
				20 км
			</div>
			<div class="badge_title badge_descriptor left">
				<a href="https://ru.wikipedia.org/wiki/Тропосфера">Тропосфера</a>
			</div>
		</div>


		<div class="badge line all-width" style="bottom: 500px;">
			<div class="badge_title height">50 км</div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Стратопауза">Стратопауза</a>
			</div>
			<div class="badge_title left">
				50 км
			</div>
			<div class="badge_title badge_descriptor left">
				<a href="https://ru.wikipedia.org/wiki/Стратосфера">Стратосфера</a>
			</div>
		</div>

		<div class="badge line all-width" style="bottom: 850px;">
			<div class="badge_title height">85 км</div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Мезопауза">Мезопауза</a>
			</div>
			<div class="badge_title left">
				85 км
			</div>
			<div id=mezo class="badge_title badge_descriptor left">
				<a href="https://ru.wikipedia.org/wiki/Мезосфера">Мезосфера</a>
			</div>
		</div>

		<div id=mezo_fixed class="badge all-width" style="bottom: 600px; visibility: hidden; opacity: 0; transition: opacity 0.2s ease-out">
			<div  class="badge_title badge_descriptor left">
				<a href="https://ru.wikipedia.org/wiki/Мезосфера">Мезосфера</a>
			</div>
		</div>

		<div class="badge line all-width" style="bottom: 6900px;">
			<div class="badge_title height">690 км</div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Термопауза">Термопауза</a>
			</div>
			<div class="badge_title left">
				690 км
			</div>
			<div id=termo class="badge_title badge_descriptor left">
				<a href="https://ru.wikipedia.org/wiki/Термосфера">Термосфера</a>
			</div>
		</div>

		<div id=termo_fixed class="badge all-width">
					<div class="badge_title badge_descriptor left">
				<a href="https://ru.wikipedia.org/wiki/Термосфера">Термосфера</a>
			</div>
		</div>
		<div class="badge line all-width" style="bottom: 1000px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Линия_Кармана">Линия Кармана</a>
			</div>
			<div class="badge_title height">100 км</div>
		</div>

		<div class="badge line all-width" style="bottom: 0px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Земля">Поверхность земли</a>
			</div>
			<div class="badge_title height">0 км</div>
		</div>

		<img src="img/everest.png" style="position: absolute; width: 300px; bottom: 0; left: calc(50% - 150px);">

		<div class="badge line" style="bottom: 88px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Джомолунгма">Эверест</a>
			</div>
			<div class="badge_title height">8,848 км</div>
		</div>

		<div id=plane class="badge line" style="bottom: 110px; max-width: 100%; width: calc(50% + 100px);">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Пассажирский_самолёт">Авиалайнер</a>
			</div>
			<div class="badge_title height">11 км</div>
		</div>

		<div class="badge line all-width" style="bottom: 230px;">
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Озоновый_слой">Озоновый слой</a>
		</div>
			<div class="badge_title height">20-25 км</div>
		</div>

		<div class="badge line" style="bottom: 260px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Реактивный_самолёт">Реактивный самолёт</a>
			</div>
			<div class="badge_title height">26 км</div>
		</div>
		

		<div class="badge line" style="bottom: 4000px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Starfish_Prime">Взрыв ядерной<br>бомбы в космосе</a>
			</div>
			<div class="badge_title height">400 км</div>
		</div>


		<div class="badge line" style="bottom: 424px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Аэростат">Аэростат</a>
			</div>
			<div class="badge_title height">42,422 км</div>
			<div class="badge_title badge_descriptor">
				<a href="https://ru.wikipedia.org/wiki/Юстас,_Алан">Алан Юстас</a>
				</div>
		</div>

		<div class="badge line" style="bottom: 530px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Метеозонд">Метеозонд</a>
			</div>
			<div class="badge_title height">53 км</div>
		</div>

		<div class="badge line" style="bottom: 760px;">
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Серебристые_облака">Серебристые облака</a>
			</div>
			<div class="badge_title height">76-85 км</div>
		</div>

		<div class="badge line" style="bottom: 800px;">
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Полярное_сияние">Полярное сияние</a>
			</div>
			<div class="badge_title height">80-400 км</div>
		</div>

		<div id=x15 class="badge line" style="bottom: 1077px; max-width: 100%;  width: calc(100% - 300px);">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/North_American_X-15">X-15</a>
			</div>
			<div class="badge_title height">107,7 км</div>
		</div>

		<div class="badge line" style="bottom: 1120px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/SpaceShipOne">SpaceShipOne</a>
			</div>
			<div class="badge_title height">112,01 км</div>
		</div>

		<div class="badge line" style="bottom: 1880px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Фау-2">ФАУ-2</a>
			</div>
			<div class="badge_title height">188 км</div>
			<div class="badge_title badge_descriptor">В вертикальном полёте</div>
		</div>

		<div class="badge line" style="bottom: 2150px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Спутник-1">Спутник-1</a>
			</div>
			<div class="badge_title height">215 км</div>
			<div class="badge_title badge_descriptor">Перицентр</div>
		</div>

		<div class="badge line" style="bottom: 3020px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Восток-1">Восток-1</a>
			</div>
			<div class="badge_title height">302 км</div>
			<div class="badge_title badge_descriptor">Апогей полёта</div>
		</div>

		<div id=iss class="badge line" style="bottom: 4150px; max-width: 100%; width: calc(100% - 30px);">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Международная_космическая_станция">МКС</a>
			</div>
			<div class="badge_title height">415 км</div>
		</div>

		<div class="badge line" style="bottom: 5690px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Хаббл_(телескоп)">Телескоп Хаббл</a>
			</div>
			<div class="badge_title height">569 км</div>
		</div>

		<div class="badge line" style="bottom: 9390px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Спутник-1">Спутник-1</a>
			</div>
			<div class="badge_title height">939 км</div>
			<div class="badge_title badge_descriptor">Апоцентр</div>
		</div>

		<div class="badge line" style="bottom: 203500px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/GPS">Спутники GPS</a>
			</div>
			<div class="badge_title height">20 350 км</div>
			<div class="badge_title badge_descriptor">Геосинхронная орбита</div>
		</div>

		<div class="badge line" style="bottom: 277430px;">
			<div class="dot"></div>
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/(367943)_Дуэнде">астеройд 2012 DA14</a>
			</div>
			<div class="badge_title height">27 743 км</div>
		</div>

		<div class="badge line" style="bottom: 357860px; width: 100%">
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Геостационарная_орбита">Геостационарная орбита</a>
			</div>
			<div class="badge_title height">35 786 км</div>
		</div>

		<div style="overflow: hidden; position: absolute; top: 0px; height: 600px; width: 100%;">
			<div style="width: 34762.8px; 
						height: 34719.4px;
						position: absolute; 
						background-color: #7c7876;
						left: calc(50% - 34762.8px/2); 
						bottom: 0px;
						border-radius: 50%">
			</div>
		</div>

		<div class="badge line" style="bottom: 3843990px;">
			<div class="badge_title">
				<a href="https://ru.wikipedia.org/wiki/Луна">Луна</a>
			</div>
			<div class="badge_title height">384 399 км</div>
		</div>
	</div>

		<div id="infoscroll" class="infoscroll" onmousemove="draw_info(event.offsetY)">
		<div class="infoscroll temp_gradient" style="bottom: 0px; height: 0.6vh;"></div>
		<!--img src="img/grid.png" class="infoscroll" style="height: 100vh;"-->
		
		<div id=log_greed class="infoscroll">
			
		</div>

		<div id= info_slider class="info_slider" ></div>

		<div id= info_slider class="info_hover" ></div>
		</div>

<h1 id=atmos_title style="position: fixed; 
left: 80px; 
right: 80px;
bottom: 30%;
opacity: 0;
text-align: center;">АТМОСФЕР<span style="letter-spacing: 0;">А</span></h1>

					<div id=des_title class="title_role">
						<div class="title_role_role">Дизайнер</div>
						<span class="title_role_name">Константин Уланов</span>
					</div>

					<div id=art_title class="title_role">
						<div class="title_role_role">Арт-директор</div>
						<span class="title_role_name">Артём Горбунов</span>
					</div>

<div class="title_box">
	<!--table border="1" cellpadding="0" cellspacing="0" style="margin: 0 auto; border: none">
		<tbody>
			<tr>
				<td colspan="2" style="text-align: center; vertical-align: top; height: 300px"></td>
			</tr>
			<tr>
				<td colspan="2" style="text-align: center;">
					<div class="title_role">
						<div class="title_role_role">Дизайнер</div>
						<span class="title_role_name">Константин Уланов</span>
					</div>
				</td>
			</tr>
			<tr>
				<td colspan="2" style="text-align: center;">
					<div class="title_role">
						<div class="title_role_role">Арт-директор</div>
						<span class="title_role_name">Артём Горбунов</span>
					</div>
				</td>
			</tr>
			<tr class="title_link">
				<td><a href="http://artgorbunov.ru/school" class="title_link">Школа стажёров Бюро Горбунова</a>, 2017</td>
				<td style="text-align: right;"><a href="https://docs.google.com/document/d/1cNWj1mYV7mxqBgzl8CVFIlhgKXnwfUTpuR9kq_Dtsdw/edit?usp=sharing" class="title_link">Пользовательское соглашение</a></td>
			</tr>
		</tbody>
	</table-->
</div>

	


</div>


	<script type="text/javascript">
		//console.log("move("+plane+")");
		FPS = 1;
		t= 1000/FPS;

		move_interval(plane,700*10/3600/FPS,document.documentElement.clientWidth/2+100,t); //700 km/h
		move_interval(x15,6437*10/3600/FPS,document.documentElement.clientWidth-300,t); //6437 км/ч
		move_interval(iss,7.6*10/FPS,document.documentElement.clientWidth-30,t); //7.6 km/s


		function move(obj,speed,pos,time) {
				
				if(pos < 0) pos = document.documentElement.clientWidth;
				obj.style.width = pos + "px";
				setTimeout(move,time,obj,speed,pos-speed,time);
		}

		function move_interval(obj,speed,pos,time) {
			setInterval(function() {
					pos -= speed;
					if(pos < 0) { 
						obj.style.transition = "none";
						pos = document.documentElement.clientWidth;
						obj.style.width = pos + "px";
					}		
					else {
						obj.style.transition = "width "+time+"ms linear";
						obj.style.width = Math.floor(pos) + "px";
					}
			},time);
		} 

		readurl();

		window.onscroll = function position() {
			H = document.documentElement.scrollHeight;
			h = window.pageYOffset || document.documentElement.scrollTop;
			vh = document.documentElement.clientHeight;
			y = H - h - vh/2;

			float(mezo,mezo_fixed,50,85);
			float(termo,termo_fixed,85,690);

			float_title(atmos_title,0,60);
			float_title(des_title,140,170);
			float_title(art_title,250,280);


			place_frame(info_slider);
		}

		//window.onresize = console.log("resize");

		function readurl() {
			    var url = decodeURIComponent(document.URL).split("#");
			    H = document.documentElement.scrollHeight;
			    //console.log(H+" "+url.length);
			    if(url.length*1 > 1) {
			    	y = url[1]*10;
			    	vh = document.documentElement.clientHeight;
					h = H - y - vh/2;

			    	//console.log(H+" "+h);
					window.scrollTo(0,h);
			    }
			    else {
			    	window.scrollTo(0,H);
			    }
			}



		function float(obj, obj_fix, min, max) {
			h_top = H - h;
			margin = 10;
			//console.log(h_top);
			if(h_top < min*10+60) {
				obj_fix.style.visibility = "hidden";
				obj_fix.style.opacity = "0";
				obj_fix.style.transition = "opacity 0.2s ease-out";
			}

			else if (h_top > max*10+margin) {
				obj_fix.style.visibility = "hidden";
				obj_fix.style.transition = "none";
				obj_fix.style.opacity = "0";
				
				obj.style.visibility = "visible";
			}

			else {
				obj.style.visibility = "hidden";

				obj_fix.style.visibility = "visible";
				obj_fix.style.opacity = "100";
			}

			obj_fix.style.bottom = h_top - margin + "px";
		}


		function float_title(obj, min, max) {
			//console.log(h_top);
			(y < min*10 || y > max*10) ? obj.style.opacity = "0" : obj.style.opacity = "100"; 
			if(obj.style.opacity == 0) {
				obj.style.transition = "opacity 0.5s ease-in-out, visibility 0.5s step-end"; //visibility будет сохранять свойство до конца анимации
				obj.style.visibility = "hidden";
			}
			else {
				obj.style.transition = "opacity 0.3s ease-in-out, visibility 0.3s step-start"; //visibility сменит свойство в начале анимации
				obj.style.visibility = "visible";
			}
		}

		/*принимает высоту
		отдаёт высоту относительно экрана
		для начала линейно, потом логарифмически*/
		function log_height(height) {
			return  document.documentElement.clientHeight * Math.log(height/100) / Math.log(H/100);
		}

		function log(x) {
			 return Math.log(x) / Math.log(10);
		}

		/*принимает объект
		делает ему нижний край как низ на схеме, верхний, как верх. через ботом и высоту*/
		function place_frame(obj) {
			obj.style.bottom = log_height(view_height("bot")) + "px";
			obj.style.top = log_height(H) - log_height(view_height("top")) + "px";
		}

		function place_line(obj, height) {
			obj.innerHTML += "<div class=info_line style='bottom:"+log_height(height*10)+"px'></div>";

		}

		/*возвращает уровень экрана, по верху низу или центру*/
		function view_height(type) {
				H = document.documentElement.scrollHeight;
			    vh = document.documentElement.clientHeight;
			    h = window.pageYOffset || document.documentElement.scrollTop;

			switch (type) {
				case "top": return  H - h; break;
				case "mid": return  H - h - vh/2; break;
				case "bot": return  H - h - vh; break;
			}
		}

		for(pow = 1; pow < 6; pow++) {
			for (l = 1; l < 10; l++) {
				place_line(log_greed,l*Math.pow(10,pow));
			}
		}

		function full_height(num) {
			return Math.pow(10,((log_height(num)*log(H/100)/document.documentElement.clientHeight)*100));
		}
console.log(full_height(1000));
		function draw_info(Y) {
			console.log(Y+" "+full_height(document.documentElement.clientHeight-Y));

		}

		//console.log(obj);
		//console.log(pos+" "+document.documentElement.clientWidth);
		/*function move() {
			time = document.documentElement.clientWidth / plane_speed;
			plane.style.animation = "move_p "+time+"s 0s linear infinite";

		}*/



	</script>
</body>
</html>